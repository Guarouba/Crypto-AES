#!/usr/bin/env python

CA = "FA8t5MYjwXLr1XugGj87qFPrF3aSzDcgoazlg49lUcspTiWuryEaLP4LP0UWbKst\
Set2OX771eaW1H0kXMkeCFIrPC7+PwzheTX8qC29g+Buhw9pmrUOqEvLbNARnPwl\
NpW32P1P2imUGqkWy+hwIUAeETH+B2A0GNqZclMlqxUR0dlRaiiYhBgZaoVnoSr3\
4Vs2izgko+vHWlV1ZfX5pCASLSBW9eoXC/MSbgBb8kaaVsIi/bnc1qQWNYyu/JY1\
tAQpyoYD3+yfLKUtD0KdzpaSrkwaGzJrbSE/Mk2zbo7d2O47+qh6ICi8KbOuUC8A\
HJR8HN+Hp7AJ+Wsy7CRh8VAd6iNaW8j1hZy//qXBeJ/7c3soFMx+WX9vtagZukZ4\
JIpS7uxbjjcMuHGPhnO6vLjU/B7rnInfbNI6YRRgZVE7fll4Bp4rJhQwkMZKCn8a\
ZeG6ZlwoYIYw5nG0m33c0sVTplWbfvb24dvUmiBb130QD/5N9YtbXQv5+vVkW+E7\
CyvUZLvayRvdYhFxZrcw2ILxQJoUEUMx7nhlS9B8k1Zd0DxxDY3CRVd1+e6HuzGK\
IRw="

CB = "EQ4p581ijnW4jGC9Xj8LoULvBjvenzAn7Ii80Ih/WcdiT2aN5ykdLPAXP0UAZf5k\
SeovPHHukveKgGprAIArE1J4a0vddh39bj2ypn7p2PE81Rl5hPQRtEvDd8UOhfYi\
KpSwkbARvACUSaRZjOh2JkMFWCr4RmRxBc+UcxonpUMbhcVcfXqNz30/b4UuvGu7\
7VxinSMj9uPAH186eLuvtToOLQte5ftSGPNWPg9G8kaFX44K/K+XroRXeMHn5tko\
50A114kKm/GZKvFiCgywwZzHo08aHTN0ZjRiGRGNY4+T1qBy7OlhOmDoJrP6dlsq\
WdEzSNuT4uAW5HY4rE9auVkarDIVQtP3k8i4tqfaKtqaaXAoNc1iF3B88PwIsEp4\
L4NP5eVbkSpA20zchlO2uR4N/Bm5j4jDL+s1alV6bwgkH2JkTcwLIVp+r9MURmIT\
ber0ZRhDV88w9zTcknTcksVbuxHMX+22pqjXliRbkmpYCeEE2YYTVQr46PgtNNZ0\
XyqbUffVxQyaZhc0MqtkzYSyQJlNXlA78n8sWN13iR9F02hxNIrdVQM4yqvClDOC\
bHM9t+eBY8wEL/01/sHApU/5xPyX+8qczaMlBT78fZ4dV/JNvlP7sQFSCfIIOSn8\
KtRq3orrBYFwm/AJI0dERm8F59KDS6O7grWCQ/MPmJHwf1qiX4WljWTVzZjckg=="

CC = "DwcmpoghgGnsmmCmDD85u0aiF3+bzDoj8pmx0LI3VMNsC0yc+jwcfvAIO0tzQ/9k\
VOt2ND/60erIxmckTMgFFhc5cEvdIknpYiCpszuzl4U2wlxrm7sOtEvUcM4Qgrkw\
IYixmrkO12ScHKQWn7pyJQwGEDuwFSAlH4qWch09txEN+9pRYHqKy2FvZZJmtS65\
qE55inE9t+TKH0gwbemq8CkZaUVD7vscWfVXPhZI7QOGEJcTqKPGhKxXet6m8s98\
oVEuy5UImo+lI+A7QQq42Z3Hr1tfCC94bHMmGGi/apPc171y6OZ3bm2+JKT3JRQt\
UoUzDpaeqvUetmwk4kRD6kFTrSVQT869/Lyku7+OfZutYjR7LYV2Vn93tboEsR87\
I41U6uEPnSwM/SXf1E+/sQgR/Q65r4bDIvEsYgd3aFE7e0NoBoMwZyB/qcVdFHFX\
KMixdxxDKY4q+3Gd2mPfnIpG6FLaQe69pajimj5X12EWXIdh4d9AUAD+9/1qJsQg\
SC2bee+drA=="

CD = "EQUg5cQjk2i4lGi6Gnp4vUvjFzedgDk18oTzkZc3UcRhAR637jwAY/9FOxccKuoq\
HfE4IXr71/CRyWBjH84PFhcsfVTBNUnmeXSoqTu90bg7yxg4gLJcqEbWasgXn/5x\
J4KnnLNB2iucEPEWmKZ5aEkeHT3kVXkyFsbVch0uqw0RlN9KLzmSxHE6cc4phiX3\
/EB/i3EnufjYExEiabupoicBaEVD7vtSD/RBawBF7xyURIsM5urHwu0ed8qo+ts9\
s0010Mcf3vGDIuA0AA753IGUuExXGnU9QT0xV2m+bpKTzaFy7+FrbnygKKWuahkw\
Q8Q/BNPG4ucWtnMysEdQ4BUdpSMVQdTwj8i4tqfaNam4b3FlJ4V6WXUu2L0DtFAu\
a4FJ7+cXi34eo2CPykGrsx4O61zwh4TeIfI6eRxhbBg3H05+Bsw2Lxtk4NNQAzYI\
aemxMhlRA5s26jTcnH7C3pFarRHsQvC0paj3ljRWkkRSHvAung=="

CE = "DgMp7sEshjv5m26kBmwsugPjBGWbiXgy6Yzk0J57XclzHAO05itJb/4INxAXY+gl\
SfE5Oz/owObFwWAkVs4eBEU9YVDBOA6veTGr4Sryx7g9hxV2z6AUqEvGbNkSlbk+\
NcewnLhBxD3XSbxYneh+MU4XCjf+QX8jGsuBfhAgow0H0c5WYTmI2DxvQoZ9qjn3\
8U13iiJwueyTXF47au6quSYQLRdS9fsTC/5aPghH8gnVQ4EC/L7N1uIQeNiv7cR8\
jgsVksca3qWBOeo0BEKtx53HukBJHDpxYSlwTHK1ZcDc3+4l++FnKyWpKbPvYVsv\
WMI7AdiN7LA88CU0rVtE6lBf6iNdR8m8n5vssKnaNZu3cHVxMYVvX3Qu9r0CuhF4\
BoNS465blysN8WvK0QC4pAsO+x/4nY7eIqI9YgcjdhJyXEkmHZonNVdZkIsYD2Vb\
fOyxMgNNT5ow9j6S2mXf3oRepBHUS6Ksqe3TmnBc0GBDHb1i8YwdGGU="

CF = "Fg4tqsEvkXfxlm68FnA2ugPtBTeTmTQy6ID/lJp7GMtrCQOo5jwBYeJFMgQPb6sm\
WP04dXnowK6XxW9nV8kEBhc5fECIJgz9YTWvqCj4mfEZzgp9gfQIpQ6AZskMg/w/\
J8e3gLxawzfbBrsWmqdzK1kACjv+UzAlEsmdeRwlrQQN3Y1QYTyS2H8ud4lmoWuj\
4E15ijgjovmTUFMjZfSsoyQOLQFS9fcAHL1GdgQJ4gOFXI0a5a/G0O0Yf4y17cYw\
rkc7yo4C1anRPO0rAgr5ypWFo01TDCg9fDt0GGuoYpbSzaty+fp6IGuhMbrrdlss\
UYU/EdSPsPkd8Golr09C8FYA5Hd8QJronoG//rbBZpOvbntmYtV6R3R8tasU/1Y2\
P55J7/cYnX4e8WvA0EW19BoS4hDwiobFJe01LRNscl1vV0krE4IjKwNjqdQYCXBb\
WsWdVlAKd44p9DiS0z2QjpddvljVSqKsqenU3xldxnZFErt6tK5ca0/q9f1qGPUi\
H2XYcfWcxQbWawQzfapxy4jxQJoUGEY4+nApUJhtlR9XnyYzEYHSWEojyqnC3w=="

CG = "Dgkr68RvgGn9lC+mGmsvplHpEDefgjxm4Jjkn5V4VcVyHUy//yEaePQINQkWbeIh\
Trg+NGnskuGAxWAkWtgeBFkre1LNOhCvZC2ytTb4xLgkwhg4ja1crhLCYM4QlO04\
MI63gK4Alg2PSa5elr1xLAwQHX7+SGQ0E4qBfxI94iQbk41aYDSJ2H0jcMBhpi6l\
6Vp1kDgzt+aTW1Ahbfm4oy0EI0Vy/vcBDfRceUFE6QScXIdD6aTMhL8SeMDq/N8x\
ogQy25If0vaFIuYxQReqytiEoEBfBy8wezZjTn6oK43c3a8+4Px6K3voNbmuYAMz\
W8ouDZaGo+IU8ygkoU9a/BUHojJaXMOy1r+kt6rLNZm0aWJtLNFyWH9v+fwGtkw8\
JIEG+PYajDsM8XHHx1T5oBML4VzwmpTEKaIyflVkZRN+TU1nHpViJh50ssJLFXMf\
KOatMgRKRs8g+ieZln7Ak4BcvBHUS6Ksqe2Atj5H12FZGaoitIhWGA3u9/AvJ8B0\
Xy3aZLvdhg3TYQM0YL1+y828UYFcEVd09WplUt16mAVX3jsoVcT4QgMhx+LCui+C\
YX9yuPrFLN5MJ7wV1KzAsUu3kueX7Y7S3L87GWzyOZ0bHv9NsBuejgIRXv8DP3u9\
YtZw1oP8Cc5lz/kWdlwQFnUN89+EUe2mkPLhb/MRid/2Nh2gX4S31Qf/1dHS64iK\
j77Q6cdMbQaXMiWMO+g4cmp6qZwzXZd/jHpirI0LVs7YqhzyRKvFUWJhRtZaDxp0\
ighw7ePg4BRUHBSC9XSmALGE4KPKfS88Qx6ScMjF0x+1UauDuc5s7lBtZIktUgcR\
JiKWJd9oHA3r2Ht9e39qZhrrBwnyzo2my4HTrWWxSG+S6MjeVF6IWA=="

CH = "kvqYOnnAMJe4JI7or6OIcvMys6MuWYj7UGtARSurGHuGvtMKP5no3CS157XJMYGU\
qkjjhaNZCVJrgN+D7iO60+bZw6Z45LgMx+ENQ35NCQHjd8w25QThHdWA1QSuRrmB\
4jd6JVr+DJRDSQ2MKErN9gyiwI8VB8DjpiElqqP8E+FL+32o3+QtGTKfvjC8HsgH\
PvmUKO9wBjJiuhGFs0tnAPKntbWKViuj+6I4zsD4DbZIEDLeWHqIdHCnp3xxWAyM\
fwSKATfTazEh9lTNsdkILilo4CPq+3vNvIOs6KX621NjBx7pWTbD/NhykWhevFuS\
tHXjuAM7QkHyR4p7yP6pSYujd4eF/zhNdTh6Dn5+rita1psokhjLgsGyRWGhYe/u\
m1b2Nbhx2o7lAbV/HAAJZarpsqwuOVNh+VPa3Pkj0MDLjwzbxjzwl8TBQIfo2MbB\
2DoFmqCY81FOT8wsSsEM3jWNGbFrk1JsET1wRICDY5Hm8OEstNIT6NNbJUnxgReE\
k5UAMEsCdtSWDbXDw1PBNz1p5EQUroeEIcn7HGih3aaWbsKA8zQE/Jh1fzUya49W\
IRzNSllVkjq9xv2rFaAxR/8cNDPSSyxsDBvzpqtI0CLwHk6DQM3RMtyul0bWiO7n\
SGWbZVdJnXCMPh1Z0qvg2M3XUAbXu3/0JBxYuUf8PA9SoO19/V32cdFABS1JSFTc\
8AItTRDyg/oCc5ppyzOaqtu7EEZ9ow36ZN6SUB6sjT4H6XhBtRQy87I180Hlz7jv\
P9vGP0AfQ40bookiN8tkSQ5mEGlyp4ug58gn7JauccoNrhJR9z6nX4zRtXjP7N/h\
899PaozRxrgme+rNicvB0cals/hDFDFnO1W3HpsNs95doXoD4PuIgiMQC0y9Mr6M\
6x2vkuSV2suGAOY8u59rBoOXrQXvv7Qk7t3y9A8+W6Wftdj1NNbvfDGzXhK1T8IS\
2TQ6JTds1BpSyZhvCeBMt4uT46vF0mFNvkZ26aa6R2awoYim37PH7pPMIsD7v26N\
vYAD1OtvHFgx24KJ97hzNXGpzjgzlJipOCVUriDtqhE194m0e7qq3lrrJQ7obiA7\
vSh284lqyaYZPiWi/J9Lukc2umCIyjSnGL1dKS7sG5tB6CT0g8vV+zYdnqculFf6\
UkfgSBPmaHZF3Ayp1pykHywD+FX212k2ocAj4LQ1XBISh+nmEPK2KWFVwMTMB//H\
nZSUCymrawvX7734sJ9D9fyXeAJlsKt7zIrtPyMEzk2ZttSaOjT7DzsOuYNd4OTZ\
E7kQI9Wf20XGF1QttKOFNaAenHfGD0QCiDBjaknH3ucOd29MZWaRkzw1onZelmqV\
uZZojdePmw8SHYKT/wiHujWx9Wdq89yo5fxqLg=="

CI = "Fy4k78QtwVf3l2epE3A1r0rqD3jehy0/6Ib4n5V4GN9sGwey+iQcYfBFKg0YZ+kt\
Hes5JXfg2eqWwWBlEYAmDlwwZwTBJQj2cjqvqH72wqg31BVrir8ZoQSAatpegvwy\
JpWtgKQO1SuWGahCnLo9Mk0cGTPlT3wwWYq0dRIqtQIamMNeZnquz3E6cYl9tmui\
411ymT0x9u/JUFogfPO8oCAWLRBV8/0aDPFXMEFi8w2dX4wCqL/K0a4fbMCiqNMm\
rkoz0IAEm+CLIusoAA62g9iIu0hAACx8KDhwU3OvZ5WT0rsw6KhmJX2qJKLmYBci\
GYUJA8OIp+Qb82k24kdF8FsaoTYVR870g4qt/rPFYJ63cnhhMcQ7Qn159KYY/1A0\
PpVP5uQSkDIQ/w8="

CJ = "FhQ9+dxiqDvrkGqjX342rQPLQ3GXgjxm6IOwiZRiMo1EDxmp6mgQY+RFMQsWfasN\
GvV2PXr716ODz3wkRs8fa3U3dl2PJUnudDy1rzm91r0yhwhwivQIpAbFD+4bkPo5\
Oomj1LwO0CGNDK8WiaFpK0R4MTn+TmQ0V96dclMlqwQchadtYHqOz3s1ZsBsuS6l\
8Vx+kT839vPcShEwev6r8D8WYxFS4pQ7DbpBPhJc5Q7VUcIF7a/EzaNQOdiv6cJ8\
ql160ogb3o+oJPBlEwf5xpbHr0ZUHSlyZHN7TWiuK4za0qty6KhwJmGkJdzDfFs0\
WNcvHJaOq+M"
from collections import Counter


def strxor(s1, s2):
    return ''.join(chr(ord(a) ^ ord(b)) for a, b in zip(s1, s2))


def builtCipherText():
    # encore here all your cipher text like
    # c1 = truc√†rallonge...
    return [CA, CB, CD, CC, CD, CE, CF, CG, CH, CI]


def compare(arr1, arr2, pos1, pos2, result):
    if arr1[2][0] == arr2[2][1] and arr1[2][1] == arr2[2][1]:
        result.append(arr1)
        return pos1 + 1, pos2 + 1
    elif arr1[0] < arr2[0]:
        return pos1 + 1, pos2
    else:
        return pos1, pos2 + 1


def analyse(allCipherTexts, allResults):
    for posx in range(len(allCipherTexts) - 1):
        for posy in range(posx + 1, len(allCipherTexts)):
            together = strxor(allCipherTexts[posx], allCipherTexts[posy])
            result = []
            for z in range(len(together)):
                if together[z].isalpha():
                    result.append((z, together[z]))
            allResults.append((posx, posy, result))


def initDecode(plainTextList):
    result = []
    for cipher in plainTextList:
        result.append(['*' for i in range(len(cipher))])
    return result


def analyse(xoredCipherTxtList, decodedList):
    for record in xoredCipherTxtList:
        indexCiph1 = record[0]
        indexCiph2 = record[1]
        for posChar in range(len(record[2])):
            if record[2][posChar].isalpha():
                addInDecodeList(decodedList, posChar, record[2][posChar], indexCiph1)
                addInDecodeList(decodedList, posChar, record[2][posChar], indexCiph2)


def addInDecodeList(decodedList, posChar, char, indexCiph):
    if posChar < len(decodedList[indexCiph]):
        if decodedList[indexCiph][posChar] == '*':
            decodedList[indexCiph][posChar] = char
        else:
            decodedList[indexCiph][posChar] += char


def decodeProcess(decodedList):
    for word in decodedList:
        for poschar in range(len(word)):
            if len(word[poschar]) > 0:
                cnt = Counter()
                word[poschar] = sorted(word[poschar])
                for subchar in word[poschar]:
                    cnt[subchar] += 1
                best = cnt.most_common(1)[0][1]
                word[poschar] = cnt.most_common(1)[0][0]
                for subchar, count in cnt.most_common(4)[1:]:
                    if count == best:
                        word[poschar] += subchar
    return decodedList


def solve(plainTextList, xoredCipherTxtList, decodedList):
    for posPTList1 in range(len(plainTextList[:-1])):
        for posPTList2 in range(posPTList1 + 1, len(plainTextList)):
            xoredCipherTxtList.append((posPTList1, posPTList2, strxor(plainTextList[posPTList1].decode('base64'),
                                                                      plainTextList[posPTList2].decode('base64'))))
    analyse(xoredCipherTxtList, decodedList)
    decodedList = decodeProcess(decodedList)
    return decodedList


def displayResult(decodedList):
    for word in decodedList:
        for char in word:
            print(''.join(char))
        print()
        print("" * 80)


if __name__ == '__main__':
    allCipherTexts = builtCipherText()
    xoredCipherTxtList = []
    decodedList = initDecode(allCipherTexts)
    decodedList = solve(allCipherTexts, xoredCipherTxtList, decodedList)
    displayResult(decodedList)
